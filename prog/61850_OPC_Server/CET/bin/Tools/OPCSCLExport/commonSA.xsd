<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by Petri MyllyperkiÃ¶ (ABB OY Substation Automation) -->
<!--W3C Schema generated by XML Spy v3.5 NT (http://www.xmlspy.com)-->
<xs:schema targetNamespace="commonSA.abb.com" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:commonSA="commonSA.abb.com" xmlns="commonSA.abb.com" elementFormDefault="qualified">
	<!--AFL data types-->
	<xs:simpleType name="tBasicDataTypeEnum">
		<xs:restriction base="xs:normalizedString">
			<xs:enumeration value="AFL_BOOL"/>
			<xs:enumeration value="AFL_INT"/>
			<xs:enumeration value="AFL_REAL"/>
			<xs:enumeration value="AFL_WORD"/>
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="tSpecialDataTypeEnum">
		<xs:restriction base="xs:normalizedString">
			<xs:enumeration value="AFL_TIME_STAMP"/>
			<xs:enumeration value="AFL_CORE_ID"/>
			<xs:enumeration value="Struct"/>
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="tAFLDataTypeEnum">
		<xs:union memberTypes="tBasicDataTypeEnum tSpecialDataTypeEnum"/>
	</xs:simpleType>
	<!--Perhaps not needed? Anyway, the idea is that parameters of legacy IED could be something else than AFL-type. So possibly, we need
	to use this instead of tAFLDataTypeEnum.-->
	<xs:simpleType name="tParameterDataTypeEnum">
		<xs:union memberTypes="tAFLDataTypeEnum xs:string"/>
	</xs:simpleType>
	<!--Basic type for mapping-->
	<xs:complexType name="tConnection">
		<xs:attribute name="type" type="tAFLDataTypeEnum" use="required"/>
	</xs:complexType>
	<!--Mapping type for connections within Core/FB -->
	<xs:complexType name="tCoreConnection">
		<xs:complexContent>
			<xs:extension base="tConnection">
				<xs:attribute name="fbParam" type="xs:string" use="required"/>
				<xs:attribute name="coreVar" type="xs:string" use="required"/>
				<xs:attribute name="fbVar" type="xs:string" use="optional"/>
				<xs:attribute name="da" type="xs:string" use="required"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<!--Mapping type for connections within MAF or device -->
	<xs:complexType name="tFBConnection">
		<xs:complexContent>
			<xs:extension base="tConnection">
				<xs:attribute name="fromParam" type="xs:string" use="required"/>
				<xs:attribute name="fromInstance" type="xs:string" use="optional"/>
				<xs:attribute name="toParam" type="xs:string" use="required"/>
				<xs:attribute name="toInstance" type="xs:string" use="optional"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<!--Type for listing different connections from FB's properties to Core -->
	<xs:complexType name="tCoreConnections">
		<xs:sequence>
			<xs:element name="ConnectInput" type="tCoreConnection" minOccurs="0" maxOccurs="unbounded"/>
			<xs:element name="ConnectOutput" type="tCoreConnection" minOccurs="0" maxOccurs="unbounded"/>
			<xs:element name="ConnectSetting" type="tCoreConnection" minOccurs="0" maxOccurs="unbounded"/>
			<xs:element name="ConnectVariable" type="tCoreConnection" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	<!--Type for listing different connections within FB (MAF) or device -->
	<xs:complexType name="tFBConnections">
		<xs:sequence>
			<xs:element name="ConnectInput" type="tFBConnection" minOccurs="0" maxOccurs="unbounded"/>
			<xs:element name="ConnectOutput" type="tFBConnection" minOccurs="0" maxOccurs="unbounded"/>
			<xs:element name="ConnectFB" type="tFBConnection" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="tComponents">
		<xs:sequence>
			<xs:element name="Component" type="tComponent" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="tComponent">
		<xs:choice>
			<xs:element name="FBRef" type="xs:string"/>
			<xs:element name="CoreRef" type="xs:string"/>
		</xs:choice>
	</xs:complexType>
	<xs:complexType name="tFBDescription">
		<xs:sequence>
			<xs:element name="Inputs" type="tIOParameters" minOccurs="0"/>
			<xs:element name="Outputs" type="tIOParameters" minOccurs="0"/>
			<xs:element name="Components" type="tComponents" minOccurs="0"/>
			<xs:element name="Parameters" type="tSettingParameters" minOccurs="0"/>
			<xs:choice>
				<xs:element name="CoreConnections" type="tCoreConnections" minOccurs="0"/>
				<xs:element name="FBConnections" type="tFBConnections" minOccurs="0"/>
				<!--Use this when describing FB -->
				<!--Use this when describing MAF -->
			</xs:choice>
			<!--xs:element name="Connections" type="tConnections"/-->
			<!--xs:element name="Header"/-->
			<!--xs:element ref="Name"/-->
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="tParameter">
		<xs:attribute name="name" type="xs:normalizedString" use="required"/>
		<xs:attribute name="desc" type="xs:normalizedString" use="optional"/>
		<xs:attribute name="bType" type="tAFLDataTypeEnum" use="required"/>
		<xs:attribute name="type" type="xs:normalizedString" use="optional"/>
	</xs:complexType>
	<xs:complexType name="tDataType">
		<xs:sequence>
			<xs:element name="Parameter" type="tParameter" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
		<xs:attribute name="id" type="xs:normalizedString" use="required"/>
		<xs:attribute name="desc" type="xs:normalizedString" use="optional"/>
	</xs:complexType>
	<xs:complexType name="tDataTypes">
		<xs:sequence>
			<xs:element name="DataType" type="tDataType" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	<xs:element name="DataTypes" type="tDataTypes"/>
	<xs:complexType name="tIOParameters">
		<xs:sequence>
			<xs:element name="Parameter" type="tParameter" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="tSettingParameters">
		<xs:sequence>
			<xs:element name="Parameter" type="tSettingParameter" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="tSettingParameter">
		<xs:complexContent>
			<xs:extension base="tParameter">
				<xs:sequence>
					<xs:element ref="Value" minOccurs="0"/>
					<xs:element ref="DescID" minOccurs="0"/>
					<xs:element ref="CaptionID" minOccurs="0"/>
					<xs:element name="Values" type="tValues" minOccurs="0"/>
					<xs:element ref="Access" minOccurs="0"/>
					<xs:element ref="AttributeName" minOccurs="0"/>
				</xs:sequence>
				<xs:attribute name="category" type="xs:string"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:element name="Access" type="xs:string"/>
	<xs:element name="AttributeName" type="xs:string"/>
	<xs:element name="CaptionID" type="xs:string"/>
	<xs:element name="DescID" type="xs:string"/>
	<xs:complexType name="tEnum">
		<xs:attribute name="textID" type="xs:string"/>
		<xs:attribute name="value" type="xs:string" use="required"/>
	</xs:complexType>
	<xs:complexType name="tFormat">
		<xs:attribute name="id" type="xs:string" use="required"/>
		<xs:attribute name="format" type="xs:string" use="required"/>
		<xs:attribute name="unit" type="xs:string"/>
	</xs:complexType>
	<xs:complexType name="tFormats">
		<xs:sequence>
			<xs:element name="Format" type="tFormat" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
		<xs:attribute name="use" type="xs:string" use="required"/>
		<xs:attribute name="link" type="xs:string"/>
	</xs:complexType>
	<xs:element name="Length" type="xs:string"/>
	<xs:complexType name="tMax">
		<xs:simpleContent>
			<xs:extension base="xs:string">
				<xs:attribute name="type" type="xs:string"/>
			</xs:extension>
		</xs:simpleContent>
	</xs:complexType>
	<xs:complexType name="tMenu">
		<xs:sequence>
			<xs:element name="Menu" type="tMenu" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
		<xs:attribute name="name" type="xs:string" use="required"/>
		<xs:attribute name="id" type="xs:string" use="required"/>
		<xs:attribute name="menuType" default="menu_item">
			<xs:simpleType>
				<xs:restriction base="xs:NMTOKEN">
					<xs:enumeration value="menu_header"/>
					<xs:enumeration value="menu_item"/>
					<xs:enumeration value="menu_item_nolink"/>
					<xs:enumeration value="menu_subitem"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="link" type="xs:string"/>
	</xs:complexType>
	<xs:complexType name="tMin">
		<xs:simpleContent>
			<xs:extension base="xs:string">
				<xs:attribute name="type" type="xs:string"/>
			</xs:extension>
		</xs:simpleContent>
	</xs:complexType>
	<xs:element name="Name" type="xs:string"/>
	<xs:complexType name="tObject">
		<xs:sequence>
			<xs:element ref="Name"/>
			<xs:element name="Parameters" type="tSettingParameters" minOccurs="0"/>
			<xs:element name="Menu" type="tMenu" minOccurs="0"/>
			<xs:element name="FBDescription" type="tFBDescription" minOccurs="0"/>
		</xs:sequence>
		<xs:attribute name="type" type="xs:string"/>
	</xs:complexType>
	<xs:element name="SAObjects">
		<xs:complexType>
			<xs:sequence>
				<xs:element name="Object" type="tObject" minOccurs="0" maxOccurs="unbounded"/>
			</xs:sequence>
		</xs:complexType>
	</xs:element>
	<xs:complexType name="tStep">
		<xs:simpleContent>
			<xs:extension base="xs:string">
				<xs:attribute name="type" type="xs:string"/>
			</xs:extension>
		</xs:simpleContent>
	</xs:complexType>
	<xs:element name="TemplatePath" type="xs:string"/>
	<xs:element name="Value" type="xs:string"/>
	<xs:complexType name="tValues">
		<xs:sequence>
			<xs:element name="Min" type="tMin" minOccurs="0"/>
			<xs:element name="Max" type="tMax" minOccurs="0"/>
			<xs:element name="Formats" type="tFormats" minOccurs="0"/>
			<xs:element name="Step" type="tStep" minOccurs="0"/>
			<xs:element ref="Length" minOccurs="0"/>
			<xs:element name="Enum" type="tEnum" minOccurs="0" maxOccurs="unbounded"/>
		</xs:sequence>
		<xs:attribute name="type" type="xs:string" use="required"/>
		<xs:attribute name="dataType" type="xs:string" use="required"/>
	</xs:complexType>
</xs:schema>

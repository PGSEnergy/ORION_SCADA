#DO 'MATRIX':C
@LIN='MATRIX':CIN(%STATE_BEGIN + SHADSTATE:D(%APL) - 1)
@TRNS=SUBSTR(%LIN,%EVENT_BEGIN + 3 * %EVENT,2)
#ERROR CONTINUE
#IF %TRNS=="IG" #THEN @PROCEDURE = ""
#ELSE @PROCEDURE = %TRANSITION(DEC_SCAN(%TRNS))
@STATUS = STATUS
#IF %STATUS <> 0 #THEN #BLOCK
LIN='LIN'
TRNS='TRNS'
#BLOCK_END

#ERROR STOP
#IF %PROCEDURE <> "" #THEN #DO 'PROCEDURE':C
